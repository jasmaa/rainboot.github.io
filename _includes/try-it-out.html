<h1 class="mb-3">Try it out!</h1>

<div class="row mb-3">
  <div class="col-md">
    <div class="card">
      <div class="card-header">
        <h2>Preview</h2>
      </div>
      <div class="card-body">
        <div id="preview"></div>
      </div>
    </div>
  </div>
</div>

<div class="row mb-3">
  <div class="col-md">
    <div class="card">
      <div class="card-header">
        <h2>Code</h2>
      </div>
      <div class="card-body">
        <div id="editor" style="height: 20rem;"></div>
      </div>
    </div>
  </div>
</div>

<script>
  const editor = ace.edit("editor");
  editor.setTheme("ace/theme/dawn");
  editor.session.setMode("ace/mode/html");

  editor.setValue(`{{ include.code }}`, 1);

  const update = () => {
    const preview = document.getElementById("preview");
    preview.innerHTML = editor.getSession().getValue();
  }

  editor.getSession().on("change", update);
  update();
</script>